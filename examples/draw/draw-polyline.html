<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dabeeo Map</title>
    <!--    <script type="text/javascript" src="[다비오기술문서의 api 링크]"></script>-->
    <style>
        body {
            margin: 0;
        }
    </style>
</head>
<body>
<div id="map"></div>
</body>
<script>
    let mapContainer = document.getElementById('map'); // 지를 표시할 div

    // 지도 인증정보
    let authorization = new indoorMapApi.Authorization({
        clientId: "28AXw_veA2YbNKDP6poTpT",
        clientSecret: "70c540c169af62808f4da3709e988e06"
    });

    let mapOptions = {
        authorization: authorization,
        minZoom: 3, // 최소 줌 설정
        maxZoom: 8, // 최대 줌 설정,
        center: new indoorMapApi.Point({ // 지도의 중심좌표
            x: 3000,
            y: 1500
        })
    };

    // 지도를 표시할 div, 옵션으로 생성 후 로딩이 완료되면 콜백으로 결과를 리턴합니다
    new indoorMapApi.MapView(
        mapContainer, // 컨테이너
        mapOptions, // 옵션
        function (response) { // 맵 로드 콜백
            let code = response.getCode();

            if (code === 200) {
                let mapView = response.getPayload().mapView;

                let points = [new indoorMapApi.Point({
                    x: 0,
                    y: 0,
                    z: 0
                }), new indoorMapApi.Point({
                    x: 500,
                    y: 500,
                    z: 0
                }), new indoorMapApi.Point({
                    x: 1500,
                    y: 300,
                    z: 0
                })];

                let polylineOptions = new indoorMapApi.PolylineOptions({
                    points: points
                }); // 포지션 설정
                polylineOptions.setColor("#FFD78A"); // 선 색상
                polylineOptions.setWidth(7); // 선 굵기
                polylineOptions.setOpacity(0.5); // 투명도 설정

                let polyline = new indoorMapApi.Polyline(polylineOptions); // 폴리라인 생성
                polyline.addEventListener("click", function (e) { // 이벤트 설정
                    console.log("클릭");
                });

                polyline.addTo(mapView); // 지도에 폴리라인 추가﻿﻿
            }
        }
    );
</script>
</html>